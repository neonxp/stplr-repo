name="hugo"
version="0.155.2"
release=1
summary="The worldâ€™s fastest framework for building websites."
desc="Hugo is a static site generator written in Go, optimized for speed and designed for flexibility. With its advanced templating system and fast asset pipelines, Hugo renders a complete site in seconds, often less."
homepage="https://gohugo.io/"
maintainer="Alexander NeonXP Kiryukhin <i@neonxp.ru>"
architectures=("amd64")
license="Apache-2.0"
sources=("https://github.com/gohugoio/hugo/archive/refs/tags/v0.155.2.tar.gz?~name=hugo")
checksums=("sha256:69803efca258dce295d8965800657b12c95d5e58d016be7131e39ae36bb97797")
# disable_network=1

provides=('hugo')
conflicts=('hugo')

build_deps=('go')

build() {
    mv hugo* hugo
    cd hugo
    export GOPATH=$srcdir/go
    export GOCACHE=$srcdir/cache
    CGO_ENABLED=1 go build -tags extended,withdeploy -ldflags="-s -w" -o $srcdir/dist/ .
    rm -rf $srcdir/go
    rm -rf $srcdir/cache
}

package() {
    install-binary $srcdir/dist/hugo
}

files() {
    files-find-binary
}
