name="recutils"
version="1.9"
release=1
summary="The GNU recutils are a set of libraries and utilities supporting the Rec format"
desc="The GNU recutils are a set of libraries and utilities supporting the Rec format: a human-readable, text-based format to store little to medium sized databases."
maintainer="Alexander NeonXP Kiryukhin <i@neonxp.ru>"
architectures=("amd64")
license="GPL-3.0-only"
sources=("http://gnu.neonxp.ru/recutils/recutils-$version.tar.gz")
checksums=("sha256:6301592b0020c14b456757ef5d434d49f6027b8e5f3a499d13362f205c486e0e")
disable_network=1

build_deps=("make" "gcc" "help2man" "makeinfo")

build() {
    mv recutils* recutils
    cd recutils
    ./configure --prefix $srcdir/dist
    make
    make install
}

package() {
    for i in csv2rec rec2csv recdel recfix recfmt recinf recins recsel recset; do
        install-binary $srcdir/dist/bin/$i
    done;

    for i in csv2rec.1 rec2csv.1 recdel.1 recfix.1 recfmt.1 recinf.1 recins.1 recsel.1 recset.1; do
        install-manual $srcdir/dist/share/man/man1/$i
    done;

    install-library $srcdir/dist/lib/librec.so.1.0.0
    install -Dm644 $srcdir/dist/include/rec.h $pkgdir/usr/include/rec.h
}

files() {
    files-find "/**/*"
}
